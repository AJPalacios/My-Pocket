<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>
{{> nav}}
{{> sidenav}}

<div class="row center-xs">
  <div class="col-md-7 offset-2">
    <div class="box">
      <h1>Editar gasto {{tipo}}</h1>
        <form action="/gastos/edit/{{this.id}}" method="POST">
        <table class="table table-hover tabla-gastos">
          <thead> 
          </thead> 
          <tbody> 
              <tr> 
                <td>Tipo de gasto:</td> 
                <td align="center">
                  <select name="tipo" id="tipo" onchange="showfield(this.options[this.selectedIndex].value)">
                    <option value="Casa">Casa</option>
                    <option value="Transporte">Transporte</option>
                    <option value="Alimentación">Alimentación</option>
                    <option value="Servicios">Servicios</option>
                    <option value="Otro">Otro</option>
                  </select>
                  <br><br><input type="text" name="tipoGasto" class="nombre" id="field" placeholder="Tipo de gasto"/>
                </td> 
              </tr>
              <tr> 
                <td>Cantidad:</td> 
                <td>$ <input type="number" name="cantidad" class="cant" id="cantidad" value="{{cantidad}}"></td> 
              </tr>
              <tr> 
                <td>Periodicidad:</td> 
                <td>
                  <select name="periodicidad" id="periodicidad">
                    <option value="Diario">Diario</option>
                    <option value="Semanal">Semanal</option>
                    <option value="Quincenal">Quincenal</option>
                    <option value="Mensual">Mensual</option>
                  </select>
                </td> 
              </tr>
              <tr>
                <td></td>
                <td></td>
              </tr>
          </tbody> 
        </table>
          <input type="submit" value="Guardar">
          </form>
          <button><a class="boton-atras" href="/gastos/list">Atrás</a></button>    
    </div>
  </div>
</div>


<script type="text/javascript">
  document.getElementById('field').style.display="none"
  function showfield(name){
    if(name=='Otro'){
      document.getElementById('field').style.display="block";
    }
    else document.getElementById('field').style.display="none";
  }

  document.getElementById('tipo').value = "{{tipo}}";
  if(document.getElementById('tipo').value === '') {
    document.getElementById('tipo').value = "Otro"
    document.getElementById('field').style.display="block";
    document.getElementById('field').value="{{tipo}}";
  }

  document.getElementById('periodicidad').value = "{{periodicidad}}";
</script>

<style>
  .cant{
    text-align: right;
  }
  .nombre{
    text-align: center;
  }
</style>